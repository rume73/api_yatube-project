# API_Yatube

REST API для социальной сети блогеров [Yatube](https://github.com/rume73/yatube-project), созданной в рамках учебного курса Яндекс.Практикум

Аутентификация по JWT-токену

Работает со всеми модулями социальной сети Yatube: постами, комментариями, группами, подписчиками

Поддерживает методы GET, POST, PUT, PATCH, DELETE

Предоставляет данные в формате JSON

## Стек технологий
- проект написан на Python с использованием Django REST Framework
- библиотека Simple JWT - работа с JWT-токеном
- система управления версиями - git

## Как запустить проект:

1) Клонируйте репозитроий с проектом:
```
git clone https://github.com/rume73/api_yatube-project.git
```
2) В созданной директории установите виртуальное окружение, активируйте его и установите необходимые зависимости:
```
python3 -m venv venv

. venv/bin/activate

pip install -r requirements.txt
```
3) Создайте в директории файл .env и поместите туда SECRET_KEY, необходимый для запуска проекта:
   - сгенерировать ключ можно на сайте [Djecrety](https://djecrety.ir/)

4) Выполните миграции:
```
python manage.py migrate
```
5) Создайте суперпользователя:
```
python manage.py createsuperuser
```
6) Запустите сервер:
```
python manage.py runserver
```
____________________________________

Ваш проект запустился на http://127.0.0.1:8000/

Полная документация доступна по адресу http://localhost:8000/redoc/

С помощью команды *pytest* вы можете запустить тесты и проверить работу модулей

## Аутентификация

Выполните POST-запрос *localhost:8000/api/v1/token/* передав поля username и password.

API вернет JWT-токен в формате:

    {
        "refresh": "ХХХХХХХХХХХ",
        "access": "ХХХХХХХХХХХХ"
    }
    
Токен вернётся в поле access, а данные из поля refresh нужны для обновления токена

При отправке запроcов передавайте токен в заголовке Authorization: Bearer <токен>

##Примеры обращения к API:

- /redoc/ - Документация
- /token/ - Получить токен
- /token/refresh/ - Обновить токен
- /posts/ - Получить список всех публикаций / Создать новую публикацию
- /posts/{id}/ - Получить публикацию по id / Обновить по id / Удалить по id
- /posts/{post_id}/comments/ - Получить список комментариев
- /posts/{post_id}/comments/{comment_id}/ - Получить комментарий по id / Создать комментарий / Обновить / Удалить комментарий
- /follow/ - Получить список подписчиков / Создать подписку
- /group/ - Получить список всех групп / Создать группу
